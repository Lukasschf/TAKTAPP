<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>TAKTAPP Planner</title>
  <link rel="stylesheet" href="planner.css" />
</head>
<body>
  <header>
    <h1>TAKTAPP Planner</h1>
    <div class="admin">
      <label for="adminPin">Admin-PIN:</label>
      <input type="password" id="adminPin" value="1412" />
      <button id="refreshBtn">Aktualisieren</button>
    </div>
  </header>

  <main>
    <section class="panel">
      <div class="panel-header">
        <h2>Band (Station 1–10)</h2>
        <button id="advanceBtn">Bandvorschub</button>
      </div>
      <table id="bandTable">
        <thead>
          <tr><th>Station</th><th>Fahrzeug</th><th>Stunden</th><th>Mitarbeiter</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Queue</h2>
      </div>
      <table id="queueTable">
        <thead>
          <tr><th>Position</th><th>Fahrzeug</th><th>Stunden</th><th>Mitarbeiter</th></tr>
        </thead>
        <tbody></tbody>
      </table>
      <form id="addVehicleForm" class="inline-form">
        <input type="text" id="vehicleName" placeholder="Fahrzeug" required />
        <input type="number" step="0.1" id="vehicleHours" placeholder="Stunden" value="1" />
        <input type="number" id="vehicleEmployees" placeholder="Mitarbeiter" value="1" />
        <button type="submit">Zur Queue hinzufügen</button>
      </form>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Konfiguration</h2>
      </div>
      <form id="configForm" class="config-form">
        <div class="field-group">
          <label>Arbeitsfenster</label>
          <div class="field-inline">
            <input type="time" id="windowStart" />
            <input type="time" id="windowEnd" />
          </div>
        </div>
        <div class="field-group">
          <label>Arbeitstage (1=Mo ... 7=So, Komma-getrennt)</label>
          <input type="text" id="windowDays" placeholder="1,2,3,4,5" />
        </div>
        <div class="field-group">
          <label>Pausen (Start-Ende pro Zeile, z. B. 09:30-09:45)</label>
          <textarea id="breaksInput" rows="3"></textarea>
        </div>
        <div class="field-group">
          <label>Freie Tage (YYYY-MM-DD, eine pro Zeile)</label>
          <textarea id="holidaysInput" rows="3"></textarea>
        </div>
        <div class="field-group">
          <label>Mitarbeiterzahl</label>
          <input type="number" id="employeesInput" min="1" value="1" />
        </div>
        <button type="submit">Konfiguration speichern</button>
      </form>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>History (neueste Einträge)</h2>
      </div>
      <table id="historyTable">
        <thead>
          <tr><th>Fertig um</th><th>Fahrzeug</th><th>Stunden</th><th>Mitarbeiter</th><th>Band-MA</th><th>Station</th></tr>
        </thead>
        <tbody></tbody>
      </table>
      <div class="links">
        <a href="/export/history.csv" target="_blank">History als CSV</a>
        <a href="/export/plan.csv" target="_blank">Aktueller Plan als CSV</a>
      </div>
    </section>
  </main>

  <script src="planner.js"></script>
</body>
</html>
